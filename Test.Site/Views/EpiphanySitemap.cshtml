@inherits Umbraco.Web.Mvc.UmbracoViewPage<Epiphany.Sitemap.Models.EpiphanySitemap>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    Layout = null;
    // Forces the doc type declaration on the first line.
    Response.Write(@"<?xml version=""1.0"" encoding=""UTF-8"" ?>");

    Response.ContentType = "text/xml";
}
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">

    @foreach (var sitemapEntry in Model.Entries)
    {
    <url>
        <loc>@sitemapEntry.Loc</loc>

        @if (sitemapEntry.LastMod != null)
        {
        <lastmod>@sitemapEntry.LastMod</lastmod>
        }

        @if (!sitemapEntry.ChangeFreq.IsEmpty())
        {
        <changefreq>monthly</changefreq>
        }

        @if (sitemapEntry.Priority != null)
        {
        <priority>1.0</priority>
        }
    </url>
    }
</urlset>